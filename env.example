# ====================================
# IE7 CONTENT OPERATIONS MCP - ENV CONFIG
# ====================================
# This file shows required environment variables for deployment
# Copy this file to .env and fill in your actual values

# ====================================
# API KEYS (CRITICAL - REQUIRED)
# ====================================

# Notion Integration Token
# Get from: https://www.notion.so/my-integrations
# Create new integration â†’ Copy "Internal Integration Token"
NOTION_TOKEN=ntn_your_token_here

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
# Used for semantic property mapping and intelligent processing
OPENAI_API_KEY=sk-proj-your_key_here

# ====================================
# NOTION DATABASE IDs (CRITICAL - REQUIRED)
# ====================================

# Content Request Database
# Primary intake for content briefs (videos, social posts, etc.)
# Extract from database URL: https://notion.so/{workspace}/{THIS_PART}?v=...
CONTENT_REQUEST_DB_ID=your_32_char_database_id_here

# Publishing Request Database
# For publishing/posting existing content
PUBLISHING_REQUEST_DB_ID=your_32_char_database_id_here

# General Inquiries Database
# Questions, support requests, non-content inquiries
GENERAL_INQUIRY_DB_ID=your_32_char_database_id_here

# DCMS Templates Database
# Central template storage for DCMS_TEMPLATE pages
TEMPLATES_DATABASE_ID=your_32_char_database_id_here

# ====================================
# OPTIONAL DATABASE IDs (Future Use)
# ====================================

# Photoshoot Request Database (if needed)
# PHOTOSHOOT_DB_ID=your_32_char_database_id_here

# Event Request Database (if needed)
# EVENT_REQUEST_DB_ID=your_32_char_database_id_here

# ====================================
# DEFAULT ASSIGNEE (REQUIRED)
# ====================================

# Default person to assign all new requests to
DEFAULT_ASSIGNEE_NAME=Daniel Fayomi
DEFAULT_ASSIGNEE_EMAIL=daniel@velto.co.uk

# ====================================
# CONFIGURATION (OPTIONAL)
# ====================================

# Template Mode Selection
# Options:
#   - "hybrid" (default): Fetch templates from Notion, fallback to LLM if not found
#   - "llm_only": Skip template fetching, generate everything with GPT-5
# 
# HYBRID MODE: Best for production. Uses your Notion templates when available,
#              gracefully falls back to intelligent LLM generation if template missing.
#              Requires TEMPLATES_DATABASE_ID to be configured.
#
# LLM_ONLY MODE: Pure GPT-5 generation. No template database needed. 
#                Simpler setup, consistent AI-generated structure every time.
#                Good for testing or if you don't want to maintain templates.
TEMPLATE_MODE=hybrid

# Template cache TTL in seconds (default: 900 = 15 minutes)
TEMPLATE_CACHE_TTL=900

# Server port (Render sets this automatically in production)
PORT=3000

# Node environment
NODE_ENV=development

# Error Webhook URL (OPTIONAL)
# If configured, system will POST to this webhook ONLY when processing fails
# Webhook will receive: {success: false, error, errorStack, originalPayload, briefData}
# Leave empty to disable error webhooks
ERROR_WEBHOOK_URL=

# Max Concurrent Requests (default: 3)
# Controls how many requests process simultaneously
# Lower = Safer (avoids rate limits), Higher = Faster
# Recommended: 2-5 depending on OpenAI/Notion rate limits
MAX_CONCURRENT_REQUESTS=3

# ====================================
# LEGACY COMPATIBILITY
# ====================================

# Legacy name for get_db_schema.js compatibility
# Should match CONTENT_REQUEST_DB_ID
REQUESTS_DB_ID=your_32_char_database_id_here

